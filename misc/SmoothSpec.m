function sps=SmoothSpec(ks,sp,frsm)%function sps=SmoothSpec(ks,sp,frsm)%Geometrically smooth a spectrum, over a fraction frsm%of the total bandwidth.%Smooth the spectrum%frsm=1/40;%ks=f;%sp=P;if frsm==0	sps=sp;	return;endlk=log10(ks);lkr=max(lk)-min(lk);dlk=frsm*lkr;[m,n]=size(sp);sps=zeros(m,n);for c=1:length(ks)	ind=find(lk > lk(c) - dlk/2 & lk < lk(c) + dlk/2);	sps(c)=mean(sp(ind)); end